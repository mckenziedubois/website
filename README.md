# website

This repo contains source code for mckenziedubois.com. It's a simple static site (HTML, CSS, and vanilla JS) with a small Python helper used to pull images/metadata from Cloudinary and generate CSV files consumed by the front-end.

Below you'll find a short guide to the project layout, key files, and common development tasks.

## Top-level folders & important files

- `index.html` — Home page.
- `pages/` — Standalone pages (about, gallery, contact, blog home, and generated CSVs). Notable files:
	- `pages/gallery.html` — Gallery page that reads `pages/image_metadata.csv`.
	- `pages/image_metadata.csv` — Image metadata (url, orientation, country, pinurl, slug, alt, caption, exclude, header, order). Generated by the Python script.
- `posts/` — Post templates and metadata
	- `posts/post.html` — Single-post template that renders markdown from `posts/content/` and builds a Swiper gallery using the CSV.
	- `posts/posts.json` — Post metadata (title, slug, date, image, google_maps_link, etc.). The JS reads this to render posts.
- `posts/content/` — Markdown content for each post (one `.md` file per post slug).
- `partials/` — Reusable HTML fragments (header, footer, masthead, nav, scripts). These are injected at runtime by `js/load-partials.js`.
- `css/` — Stylesheets
	- `css/styles.css` — Primary theme / base styles.
	- `css/custom.css` — Local overrides and small component styles.
- `js/` — Front-end scripts
	- `js/load-partials.js` — Partial injection and masthead/nav helpers.
	- `js/csv-utils.js` — Shared CSV loader used across pages.
	- `js/gallery-filter.js` — Gallery logic: CSV loading, filtering, pagination, Cloudinary helpers.
	- other utilities: `config.js`, `gallery-filter.js`, `gallery-*` assets, etc.
- `python/` — Python helper scripts
	- `python/pull_cloudinary_images_posts.py` — Script to page through Cloudinary Search API, normalize `secure_url`, and write `pages/image_metadata.csv` and `pages/pinterest_metadata.csv`.

Other files:
- `ads.txt`, `CNAME` — deployment/hosting files.

## Posts / Content flow

- Add a new post by creating `posts/content/<slug>.md` and then adding metadata to `posts/posts.json` (title, slug, date, subtitle, image, tags, google_maps_link, etc.). The `post.html` template reads that metadata and renders the Markdown client-side.
- To use a header image from the image CSV, mark a row's `header` column true for the post's slug inside of Cloudinary and rerun Cloudinary python script.

## Common tasks

- Regenerate image CSVs: `python3 python/pull_cloudinary_images_posts.py`
- Add/edit post: edit `posts/posts.json` and `posts/content/<slug>.md`.


